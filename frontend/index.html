<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Soccer Squad Showdown</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Custom CSS -->
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-light bg-light shadow-sm">
        <div class="container">
            <a class="navbar-brand fw-bold text-primary" href="#" id="navbar-brand">âš½ Soccer Squad Showdown</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    
                </ul>
            </div>
        </div>
    </nav>

    <div class="container my-5">
        

        

        

        <div id="tournament-section" class="card shadow-lg p-4 mb-5 bg-white rounded">
            <h2 class="card-title text-center text-secondary mb-4">Tournament Setup</h2>
            <div class="mb-3">
                <label for="tournament-type-select" class="form-label">Select Tournament Length:</label>
                <select class="form-select" id="tournament-type-select">
                    <option value="3">Best of 3</option>
                    <option value="5">Best of 5</option>
                    <option value="7">Best of 7</option>
                </select>
            </div>
            <div class="mb-3">
                <label class="form-label">Opponent Type:</label>
                <div class="form-check">
                    <input class="form-check-input" type="radio" name="opponentType" id="ai-generated-opponent" value="aiGenerated">
                    <label class="form-check-label" for="ai-generated-opponent">
                        AI Generated Opponent
                    </label>
                </div>
                <div class="form-check">
                    <input class="form-check-input" type="radio" name="opponentType" id="pick-opponent-team" value="userPicked">
                    <label class="form-check-label" for="pick-opponent-team">
                        Pick Opponent Team Manually
                    </label>
                </div>
            </div>
            <div class="d-flex justify-content-center mt-4">
                <button id="start-tournament-btn" class="btn btn-primary btn-lg">Start Tournament</button>
            </div>
            <div class="mt-4 text-center">
                <h5>Current Tournament Score: <span id="user-tournament-score">0</span> - <span id="ai-tournament-score">0</span></h5>
            </div>
        </div>

        <div id="player-source-selection" class="card shadow-lg p-4 mb-5 bg-white rounded hidden">
            <h2 class="card-title text-center text-secondary mb-4">Select Player Source</h2>
            <div class="d-flex justify-content-center gap-3">
                <button id="predefined-players-btn" class="btn btn-primary btn-lg">Use Predefined Players</button>
                <button id="api-players-btn" class="btn btn-secondary btn-lg">Fetch from API (Coming Soon)</button>
            </div>
            <div class="d-flex justify-content-center mt-3">
                <button class="btn btn-secondary go-back-btn" data-target-section="tournament-section">Go Back to Tournament Setup</button>
            </div>
        </div>

                <div id="formation-selection-section" class="card shadow-lg p-4 mb-5 bg-white rounded hidden">
            <h2 class="card-title text-center text-secondary mb-4">Choose Formation</h2>
            <div id="formation-options" class="d-flex justify-content-center gap-3 mb-4">
                <button class="btn btn-outline-primary formation-btn" data-formation="4-3-3">4-3-3</button>
                <button class="btn btn-outline-primary formation-btn" data-formation="4-4-2">4-4-2</button>
                <button class="btn btn-outline-primary formation-btn" data-formation="3-5-2">3-5-2</button>
                <button class="btn btn-outline-primary formation-btn" data-formation="4-2-3-1">4-2-3-1</button>
                <button id="create-custom-formation-btn" class="btn btn-outline-info">Custom</button>
            </div>
            <div id="custom-formation-options" class="d-flex justify-content-center flex-wrap gap-2 mb-4">
                <!-- Custom formations will be loaded here -->
            </div>
            <div class="d-flex justify-content-center">
                <button id="simulate-match-btn" class="btn btn-success btn-lg" disabled>Simulate Match</button>
            </div>
        </div>

        <!-- Custom Formation Builder Modal -->
        <div id="custom-formation-builder" class="modal fade" tabindex="-1">
            <div class="modal-dialog modal-xl">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title">Create Custom Formation</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                        <div class="mb-3">
                            <label for="custom-formation-name" class="form-label">Formation Name</label>
                            <input type="text" class="form-control" id="custom-formation-name" placeholder="e.g., My Awesome 4-4-2">
                        </div>
                        <div id="custom-pitch" class="soccer-field-custom-builder">
                            <div id="player-placeholders-container"></div>
                            <div class="drop-zone gk-zone">GK</div>
                            <div class="drop-zone def-zone">DEF</div>
                            <div class="drop-zone mid-zone">MID</div>
                            <div class="drop-zone fwd-zone">FWD</div>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                        <button type="button" id="randomize-custom-formation-btn" class="btn btn-info">Randomize Players</button>
                        <button type="button" id="save-custom-formation-btn" class="btn btn-primary">Save Formation</button>
                    </div>
                </div>
            </div>
        </div>

        <div id="player-selection-section" class="card shadow-lg p-4 mb-5 bg-white rounded hidden">
            <h2 class="card-title text-center text-secondary mb-4">Select Your Squad (11 Players)</h2>
            <div class="row">
                <div class="col-12">
                    <h4 class="text-center">Available Players</h4>
                    <h5 class="text-center mb-3">Your Team (<span id="selected-player-count">0</span>/11)</h5>
                    <div id="available-players" class="player-grid border p-2">
                        <!-- Players will be loaded here by JavaScript -->
                    </div>
                </div>
            </div>
            <div class="row mt-4">
                <div class="col-12">
                    <h4 class="text-center">Your Selected Players</h4>
                    <div id="selected-players" class="player-grid border p-2">
                        <!-- Selected players will be displayed here by JavaScript -->
                    </div>
                </div>
            </div>
            <div class="d-flex justify-content-center gap-2 mt-4">
                <button id="confirm-team-btn" class="btn btn-success btn-lg" disabled>Confirm Team</button>
                <button id="randomize-team-btn" class="btn btn-info btn-lg">Randomize Team</button>
                <button id="clear-team-btn" class="btn btn-danger btn-lg">Clear Team</button>
                <button id="randomize-team-btn" class="btn btn-warning btn-lg">Randomize</button>
            </div>
            <div class="d-flex justify-content-center mt-3">
                <button class="btn btn-secondary go-back-btn" data-target-section="formation-selection-section">Go Back to Formation Selection</button>
            </div>
            
            
            
            <div class="row mt-4">
                <div class="col-12">
                    
                    <div id="lineup-display" class="soccer-field">
                        <div class="position-circle" id="pos-gk" data-position="GK">
                            <span class="position-label">GK</span>
                            <img src="" alt="Player" class="player-image">
                            <span class="player-ovr"></span>
                        </div>
                        <div class="position-circle" id="pos-lb" data-position="LB">
                            <span class="position-label">LB</span>
                            <img src="" alt="Player" class="player-image">
                            <span class="player-ovr"></span>
                        </div>
                        <div class="position-circle" id="pos-lcb" data-position="LCB">
                            <span class="position-label">LCB</span>
                            <img src="" alt="Player" class="player-image">
                            <span class="player-ovr"></span>
                        </div>
                        <div class="position-circle" id="pos-rcb" data-position="RCB">
                            <span class="position-label">RCB</span>
                            <img src="" alt="Player" class="player-image">
                            <span class="player-ovr"></span>
                        </div>
                        <div class="position-circle" id="pos-rb" data-position="RB">
                            <span class="position-label">RB</span>
                            <img src="" alt="Player" class="player-image">
                            <span class="player-ovr"></span>
                        </div>
                        <div class="position-circle" id="pos-cdm" data-position="CDM">
                            <span class="position-label">CDM</span>
                            <img src="" alt="Player" class="player-image">
                            <span class="player-ovr"></span>
                        </div>
                        <div class="position-circle" id="pos-lcm" data-position="LCM">
                            <span class="position-label">LCM</span>
                            <img src="" alt="Player" class="player-image">
                            <span class="player-ovr"></span>
                        </div>
                        <div class="position-circle" id="pos-rcm" data-position="RCM">
                            <span class="position-label">RCM</span>
                            <img src="" alt="Player" class="player-image">
                            <span class="player-ovr"></span>
                        </div>
                        <div class="position-circle" id="pos-lw" data-position="LW">
                            <span class="position-label">LW</span>
                            <img src="" alt="Player" class="player-image">
                            <span class="player-ovr"></span>
                        </div>
                        <div class="position-circle" id="pos-st" data-position="ST">
                            <span class="position-label">ST</span>
                            <img src="" alt="Player" class="player-image">
                            <span class="player-ovr"></span>
                        </div>
                        <div class="position-circle" id="pos-rw" data-position="RW">
                            <span class="position-label">RW</span>
                            <img src="" alt="Player" class="player-image">
                            <span class="player-ovr"></span>
                        </div>
                        <div class="position-circle" id="pos-st1" data-position="ST1">
                            <span class="position-label">ST1</span>
                            <img src="" alt="Player" class="player-image">
                            <span class="player-ovr"></span>
                        </div>
                        <div class="position-circle" id="pos-st2" data-position="ST2">
                            <span class="position-label">ST2</span>
                            <img src="" alt="Player" class="player-image">
                            <span class="player-ovr"></span>
                        </div>
                        <div class="position-circle" id="pos-cdm1" data-position="CDM1">
                            <span class="position-label">CDM1</span>
                            <img src="" alt="Player" class="player-image">
                            <span class="player-ovr"></span>
                        </div>
                        <div class="position-circle" id="pos-cdm2" data-position="CDM2">
                            <span class="position-label">CDM2</span>
                            <img src="" alt="Player" class="player-image">
                            <span class="player-ovr"></span>
                        </div>
                        <div class="position-circle" id="pos-ccb" data-position="CCB">
                            <span class="position-label">CCB</span>
                            <img src="" alt="Player" class="player-image">
                            <span class="player-ovr"></span>
                        </div>
                        <div class="position-circle" id="pos-lwb" data-position="LWB">
                            <span class="position-label">LWB</span>
                            <img src="" alt="Player" class="player-image">
                            <span class="player-ovr"></span>
                        </div>
                        <div class="position-circle" id="pos-rwb" data-position="RWB">
                            <span class="position-label">RWB</span>
                            <img src="" alt="Player" class="player-image">
                            <span class="player-ovr"></span>
                        </div>
                        <div class="position-circle" id="pos-lm" data-position="LM">
                            <span class="position-label">LM</span>
                            <img src="" alt="Player" class="player-image">
                            <span class="player-ovr"></span>
                        </div>
                        <div class="position-circle" id="pos-rm" data-position="RM">
                            <span class="position-label">RM</span>
                            <img src="" alt="Player" class="player-image">
                            <span class="player-ovr"></span>
                        </div>
                        <div class="position-circle" id="pos-cam" data-position="CAM">
                            <span class="position-label">CAM</span>
                            <img src="" alt="Player" class="player-image">
                            <span class="player-ovr"></span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div id="opponent-selection-section" class="card shadow-lg p-4 mb-5 bg-white rounded hidden">
            <h2 class="card-title text-center text-secondary mb-4">Select Opponent Squad (11 Players)</h2>
            <div class="row mb-3">
                <div class="col-md-6">
                    <div class="form-check">
                        <input class="form-check-input" type="radio" name="opponentType" id="ai-generated-opponent" value="aiGenerated">
                        <label class="form-check-label" for="ai-generated-opponent">
                            AI Generated Opponent
                        </label>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="form-check">
                        <input class="form-check-input" type="radio" name="opponentType" id="pick-opponent-team" value="userPicked">
                        <label class="form-check-label" for="pick-opponent-team">
                            Pick Opponent Team Manually
                        </label>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-12">
                    <h4 class="text-center">Available Opponent Players</h4>
                    <h5 class="text-center mb-3">Opponent Team (<span id="opponent-selected-player-count">0</span>/11)<span id="opponentSelectedCount"></span></h5>
                    <div id="opponent-available-players" class="player-grid border p-2">
                        <!-- Opponent players will be loaded here by JavaScript -->
                    </div>
                    <h4 class="text-center mt-4">Selected Opponent Players</h4>
                    <div id="opponent-selected-players" class="player-grid border p-2">
                        <!-- Selected opponent players will be displayed here -->
                    </div>
                </div>
            </div>
            <div class="d-flex justify-content-center mt-4">
                <button id="confirm-opponent-team-btn" class="btn btn-success btn-lg" disabled>Confirm Opponent Team</button>
            </div>
            <div class="d-flex justify-content-center mt-3">
                <button class="btn btn-secondary go-back-btn" data-target-section="player-source-selection">Go Back to Player Source</button>
            </div>
        </div>

        <div id="live-simulation-section" class="card shadow-lg p-4 mb-5 bg-white rounded hidden">
            <h2 class="card-title text-center text-secondary mb-4">Live Match</h2>
            <div class="match-score-container mb-3">
                <div class="team-score user-score">
                    <span class="team-name">User</span>
                    <span id="live-user-score" class="score">0</span>
                </div>
                <div class="team-score ai-score">
                    <span id="live-ai-score" class="score">0</span>
                    <span class="team-name">AI</span>
                </div>
            </div>
            <div class="live-commentary-container">
                <div id="live-commentary-feed" class="live-commentary-feed">
                    <!-- Events will be dynamically added here -->
                </div>
            </div>
            <div class="d-flex justify-content-center mt-3">
                <button id="skip-simulation-btn" class="btn btn-secondary btn-sm">Skip to Result</button>
            </div>
        </div>

        <div id="post-match-section" class="card shadow-lg p-4 mb-5 bg-white rounded hidden">
            <!-- Header: Score, Team Names, Chemistry -->
            <div class="match-header">
                <div class="team-info user-team">
                    <img src="images/default.jpg" alt="User Team Logo" class="team-logo">
                    <span class="team-name">Your Team</span>
                    <div class="team-chemistry" data-bs-toggle="tooltip" title="Chemistry Breakdown">
                        <div class="chemistry-bar-label">Team Chemistry</div>
                        <div class="chemistry-bar">
                            <div class="chemistry-fill"></div>
                        </div>
                        <span class="chemistry-value">85%</span>
                    </div>
                </div>
                <div class="score-container">
                    <span class="final-score">3 - 1</span>
                    <br>
                    <span class="match-winner">You Won!</span>
                </div>
                <div class="team-info ai-team">
                    <img src="images/default.jpg" alt="AI Team Logo" class="team-logo">
                    <span class="team-name">Opponent</span>
                    <div class="team-chemistry" data-bs-toggle="tooltip" title="Chemistry Breakdown">
                        <div class="chemistry-bar-label">Team Chemistry</div>
                        <div class="chemistry-bar">
                            <div class="chemistry-fill"></div>
                        </div>
                        <span class="chemistry-value">78%</span>
                    </div>
                </div>
            </div>

            <!-- Body: Tabs for Summary, Stats, Ratings -->
            <ul class="nav nav-tabs" id="post-match-tabs" role="tablist">
                <li class="nav-item" role="presentation">
                    <button class="nav-link active" id="summary-tab" data-bs-toggle="tab" data-bs-target="#summary-content" type="button" role="tab">Summary</button>
                </li>
                <li class="nav-item" role="presentation">
                    <button class="nav-link" id="team-stats-tab" data-bs-toggle="tab" data-bs-target="#team-stats-content" type="button" role="tab">Team Stats</button>
                </li>
                <li class="nav-item" role="presentation">
                    <button class="nav-link" id="player-ratings-tab" data-bs-toggle="tab" data-bs-target="#player-ratings-content" type="button" role="tab">Player Ratings</button>
                </li>
            </ul>
            <div class="tab-content" id="post-match-tabs-content">
                <!-- Summary Tab -->
                <div class="tab-pane fade show active" id="summary-content" role="tabpanel">
                    <div class="row">
                        <div class="col-md-6">
                            <h4 class="text-center">Key Events</h4>
                            <div class="timeline">
                                <!-- Timeline events will be injected here -->
                            </div>
                        </div>
                        <div class="col-md-6">
                            <h4 class="text-center">Goal Scorers & Assists</h4>
                            <div id="goal-scorers-list">
                                <!-- Goal scorer cards will be injected here -->
                            </div>
                        </div>
                    </div>
                </div>
                <!-- Team Stats Tab -->
                <div class="tab-pane fade" id="team-stats-content" role="tabpanel">
                    <!-- Detailed stats will be injected here -->
                </div>
                <!-- Player Ratings Tab -->
                <div class="tab-pane fade" id="player-ratings-content" role="tabpanel">
                    <div class="player-ratings-grid">
                        <!-- Player rating cards will be injected here -->
                    </div>
                </div>
            </div>

            <!-- Footer: Action Buttons -->
            <div class="d-flex justify-content-center gap-2 mt-4">
                <button id="re-sim-match-btn" class="btn btn-warning">Re-Sim Match</button>
                <button id="next-game-tournament-btn" class="btn btn-success">Next Game</button>
                <button id="main-menu-btn" class="btn btn-secondary">Main Menu</button>
            </div>
        </div>

        <div id="tournament-complete-section" class="card shadow-lg p-4 mb-5 bg-white rounded hidden">
            <h2 class="card-title text-center text-secondary mb-4">Tournament Complete!</h2>
            <p class="lead text-center">Winner: <span id="tournament-winner" class="fw-bold">User Team</span></p>
            <p class="text-center">Final Score: <span id="final-tournament-score">User 3 - 2 AI</span></p>
            <div class="d-flex justify-content-center mt-4">
                <button id="reset-tournament-btn" class="btn btn-primary btn-lg">Play New Tournament</button>
            </div>
            <div class="d-flex justify-content-center mt-3">
                <button id="main-menu-btn-2" class="btn btn-secondary">Main Menu</button>
            </div>
        </div>

    

    </div>

        

    

    </div>

    

    <!-- Custom Position Selection Modal -->
    <div class="modal fade" id="custom-position-modal" tabindex="-1" aria-labelledby="custom-position-modal-label" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="custom-position-modal-label">Select Position</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body" id="custom-position-modal-body">
                    <!-- Position buttons will be injected here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Bootstrap Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Custom JavaScript -->
    <script src="script.js"></script>
</body>
</html>